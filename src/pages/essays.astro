---
import BaseLayout from '../layouts/BaseLayout.astro';
import EssaysWrapper from './components/essays.astro';

const allEssays = await Astro.glob('./essays/*.md');
const nodeEssays = filterEssay('node');
const viteEssays = filterEssay('vite');
const reactEssays = filterEssay('react');
const typescriptEssays = filterEssay('typescript');

function filterEssay(tag: string) {
    return allEssays.filter(essay => essay.frontmatter.tag === tag);
}
---

<BaseLayout subTitle='ESSAYS'>
    <div class='flex flex-col'>
        <EssaysWrapper series='Vite' essays={viteEssays} />
        <EssaysWrapper series='Node' essays={nodeEssays} />
        <EssaysWrapper series='React' essays={reactEssays} />
        <EssaysWrapper series='TypeScript' essays={typescriptEssays} />
    </div>
</BaseLayout>
